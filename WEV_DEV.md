# WEBアプリ開発

## DB構築
1. DB作成
   1. 言語設定も行う
2. 開発者ユーザーの作成
   1. ユーザーの作成、権限付与を行う
3. テーブル作成
   1. create table `テーブル名`(`カラム名` ...各制約を設定する);
      ※ バッククォートを利用する

## サーバー設定　(Apache)
1. 接続のurlと表示するパスを変更する
   1. ariasによる変更

## アプリ開発
### MVCアーキテクチャ　　コードの構築思想の一種
   1. M Model → データの管理
   2. V View → 画面の入出力を管理
   3. C Controller → ビジネスロジックを管理
      ビジネスロジックとは、アプリ内の制御をする役割
      ログインの判定ロジックや画面の入出力の制御ロジックなどを担当

1. ベースパス
   複数のディレクトリでアプリを起動させる場合に、ベースとなるパスを取得する
   1. $_SERVER['REQUESt_URI']; これでリクエストurlを取得
   2. preg_matchを利用して、特定のパスを指定する
   3. この特定のパスを定数に格納して、パスURLとして利用することができる
      define('格納したい変数名','格納したい値');

2. css.jsファイルの読み込み
   1. それぞれのファイルのベースパスを格納する
   2. HTMLに定数を活用して、読み込みを行う

3. 表示ページの内容を動的変更する
   リクエストURLの内容に応じて、ファイルを読み込む。
   条件分岐でrequire_onceの読み込みファイルを変更していく
   if($_SERVER[REQUEST_URI] ===　渡ってきて欲しいリクエストパス){
    require_once '読み込ませたいファイルの相対パス';
   }
   このように行うことで一つのファイルで読み込みファイルを分割することができる

   1. if文で分岐を行うよりも動的にrequireのパスを変更する
      1. リクエストパスで飛んできたパスから、ベースパスを取り除く　=　文字列が取得できる
      2. この文字列をパスに動的に渡す。
         /のときには、空文字となるのでそこだけ条件分岐
      3. ベースパスと取得した文字列を繋いで、リクエストを送りたいファイルパスを作成する
      4. ファイルがみつからなかったときのif条件としてfile_exists(作成したファイルパス)で判断して、見つからないときに404ファイルを読み込ませる
   2. httpリクエスト(GET,POST)によるコンテキストの変更
      1. $_SERVER['REQUEST_METHOD']; このメソッドでリクエストの種類を取得可能
      2. controllersの中で、getとpostのメソッドを切り分ける
         phpディレクトリに複数のファイルが存在するためnamespaceでメソッドを切り分ける
      3. index.phpでreplace_urlとmethodを動的に渡すことで実現する

4. 共通パーツ(headerやfooter、naviconなど)をpartial化して読み込ませる

5. MVCアーキテクチャに基づいたファイル分割
   1. controllersファイルを作成して、画面表示のviewsファイルと分割する
   2. controllersとviewsをわけることで、パス記述のミスや手間になることがある
      そのためベースパスを活用して、管理していく
